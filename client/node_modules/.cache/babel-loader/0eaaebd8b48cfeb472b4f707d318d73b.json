{"ast":null,"code":"import _toConsumableArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';import'./GamesToShow.css';import GameCard from'../GameCard/GameCard.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function GamesToShow(){var inits=useSelector(function(state){return state.initsearch;});var titFiltGames=useSelector(function(state){return state.gamestoshow;});// juegos para mostrar\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),pageCount=_useState2[0],setPageCount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];//inicialmente la primer página\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),currentPageArr=_useState6[0],setCurrentPArr=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),pages=_useState8[0],setPages=_useState8[1];var PER_PAGE=3;useEffect(function(){if(titFiltGames){console.log('Toy acá 1');var n=titFiltGames.length;// Nro total de juegos a mostrar\nvar pc=Math.ceil(n/PER_PAGE);// Nro de páginas a mostrar\nsetPageCount(pc);}},[titFiltGames,PER_PAGE]);useEffect(function(){if(pageCount){// Función que crea botones para cáda página\nvar pagesNumArr=function pagesNumArr(pageCount){var arr=[];for(var i=1;i<=pageCount;i++){arr.push(i);}return arr;};var _pages=pagesNumArr(pageCount);setPages(_pages);}},[pageCount]);useEffect(function(){if(pages){// Función que obtiene el subarreglo de juegos a mostrar según la pagina\n// en la que se encuentre.\nvar inpageshow=function inpageshow(currentPage,perpage,titFiltGames){var offset=currentPage*perpage;var currentPageArr=titFiltGames.slice(offset,offset+PER_PAGE);console.log(currentPageArr);setCurrentPArr(_toConsumableArray(currentPageArr));};if(titFiltGames){console.log('Toy acá 2');inpageshow(currentPage,PER_PAGE,titFiltGames);}}},[currentPage,PER_PAGE,titFiltGames,pages]);function handlePrev(){if(currentPage!=0){setCurrentPage(currentPage-1);}}var handleNext=function handleNext(e){console.log(currentPage);console.log(pageCount);if(currentPage<pageCount-1){setCurrentPage(currentPage+1);}};function handlePage(e){setCurrentPage(e.target.value-1);console.log('current page is'+currentPage);}return/*#__PURE__*/_jsx(\"div\",{children:inits&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cardcont\",children:currentPageArr&&currentPageArr.map(function(g,i){return/*#__PURE__*/ (//source\n_jsx(GameCard,{id:g.id,name:g.name,rating:g.rating,img:g.img_url,genres:g.genres},i));})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p_btn_area\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p_button\",onClick:handlePrev,children:\"Anterior\"}),pages&&pages.map(function(p,i){return/*#__PURE__*/_jsxs(\"button\",{className:\"op_button\",onClick:handlePage,value:p,children:[\" \",p,\" \"]},i);}),/*#__PURE__*/_jsx(\"button\",{className:\"p_button\",onClick:handleNext,children:\"Siguiente\"})]})]})});}","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/GamesToShow/GamesToShow.jsx"],"names":["React","useState","useEffect","useSelector","GameCard","GamesToShow","inits","state","initsearch","titFiltGames","gamestoshow","pageCount","setPageCount","currentPage","setCurrentPage","currentPageArr","setCurrentPArr","pages","setPages","PER_PAGE","console","log","n","length","pc","Math","ceil","pagesNumArr","arr","i","push","inpageshow","perpage","offset","slice","handlePrev","handleNext","e","handlePage","target","value","map","g","id","name","rating","img_url","genres","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport './GamesToShow.css';\nimport GameCard from '../GameCard/GameCard.jsx';\n\nexport default function GamesToShow() {\n\n  let inits = useSelector(state => state.initsearch);\n  let titFiltGames = useSelector(state => state.gamestoshow); // juegos para mostrar\n\n  let [pageCount, setPageCount] = useState(null);\n  let [currentPage, setCurrentPage] = useState(0); //inicialmente la primer página\n  let [currentPageArr, setCurrentPArr] = useState([]);\n  let [pages, setPages] = useState(null);\n  let PER_PAGE = 3;\n\n  useEffect(() => {\n    if (titFiltGames) {\n      console.log('Toy acá 1')\n      let n = titFiltGames.length; // Nro total de juegos a mostrar\n      let pc = Math.ceil(n / PER_PAGE); // Nro de páginas a mostrar\n      setPageCount(pc);\n    }\n  }, [titFiltGames, PER_PAGE])\n\n  useEffect(() => {\n    if(pageCount){\n      // Función que crea botones para cáda página\n      function pagesNumArr(pageCount) {\n        let arr = [];\n        for (let i = 1; i <= pageCount; i++) {\n          arr.push(i);\n        }\n        return arr;\n      }\n      let pages = pagesNumArr(pageCount);\n      setPages(pages);\n    }\n  }, [pageCount])\n\n  useEffect(() => {\n    if(pages){\n      // Función que obtiene el subarreglo de juegos a mostrar según la pagina\n      // en la que se encuentre.\n      function inpageshow(currentPage, perpage, titFiltGames) {\n        let offset = currentPage * perpage;\n        let currentPageArr = titFiltGames.slice(offset, offset + PER_PAGE)\n        console.log(currentPageArr);\n        setCurrentPArr([...currentPageArr]);\n      }\n\n      if(titFiltGames){\n      console.log('Toy acá 2')\n      inpageshow(currentPage, PER_PAGE, titFiltGames);\n      }\n    }\n  }, [currentPage, PER_PAGE, titFiltGames,pages])\n\n  function handlePrev() {\n    if (currentPage != 0) {\n      setCurrentPage(currentPage - 1);\n    }\n  }\n\n  const handleNext = (e) => {\n    console.log(currentPage);\n    console.log(pageCount);\n    if (currentPage < pageCount - 1) {\n      setCurrentPage(currentPage + 1);\n    }\n  }\n\n  function handlePage(e) {\n    setCurrentPage(e.target.value - 1);\n    console.log('current page is' + currentPage);\n  }\n\n  return (\n    <div>\n      {inits && <>\n        {/* <GameCard key={1} id={3498} name={\"Grand Theft Auto V\"} genres={\"Action,Adventure,Indie, Puzzle,Platformer\"} /> */}\n        <div className=\"cardcont\" >\n          {currentPageArr && currentPageArr.map((g, i) => (//source\n            <GameCard key={i} id={g.id} name={g.name} rating={g.rating} img={g.img_url} genres={g.genres} />\n          ))}\n        </div>\n        <div className=\"p_btn_area\">\n          <button className=\"p_button\" onClick={handlePrev}>Anterior</button>\n          {pages && pages.map((p, i) => (\n            <button key={i} className=\"op_button\" onClick={handlePage} value={p}> {p} </button>\n          ))}\n          <button className=\"p_button\" onClick={handleNext}>Siguiente</button>\n        </div>\n      </>}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}