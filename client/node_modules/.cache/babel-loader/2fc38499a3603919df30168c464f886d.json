{"ast":null,"code":"import _objectSpread from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import'./CreateForm.css';import MultiSelectPlatform from'../MultiSelectPlatform/MultiSelectPlatform';import MultiSelectGenre from'../MultiSelectGenre/MultiSelectGenre';import{saveNgGenSel,saveNgPlatfSel,sendedForm}from'../../actions/actions';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateForm(props){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),released=_useState4[0],setReleased=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newplatform=_useState10[0],setNewplatform=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),newgenre=_useState12[0],setNewgenre=_useState12[1];function handleChange(e){var nombre=e.target.name;switch(nombre){case'title':setTitle(e.target.value);break;case'released':setReleased(e.target.value);break;case'description':setDescription(e.target.value);break;case'rating':setRating(e.target.value);break;case'newplatform':setNewplatform(e.target.value);break;case'newgenre':setNewgenre(e.target.value);break;default:break;}}var sgenres=useSelector(function(state){return state.nggensel;});var splatforms=useSelector(function(state){return state.ngplatfsel;});var handleSubmit=function handleSubmit(event){event.preventDefault();//sirve para evitar que refresque la pagina cada vez que apreto una tecla (comportamiento por default)\nvar gametoadd={title:title,released:released,description:description,rating:rating,sgenres:sgenres,splatforms:splatforms};if(newplatform!==''){gametoadd=_objectSpread(_objectSpread({},gametoadd),{},{newplatform:newplatform});}if(newgenre!==''){gametoadd=_objectSpread(_objectSpread({},gametoadd),{},{newgenre:newgenre});}console.log(gametoadd.splatforms);axios.post('http://localhost:3001/newvideogame',gametoadd).then(function(resp){console.log(resp.data);});alert('juego agregado');setTitle('');setReleased('');setDescription('');setRating('');setNewplatform('');setNewgenre('');dispatch(saveNgGenSel([]));dispatch(saveNgPlatfSel([]));dispatch(sendedForm(true));};return/*#__PURE__*/_jsx(\"div\",{className:\"ng_page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ng_container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"ng_title\",children:\"Nuevo juego: \"}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"http://localhost:3001/newgame\",className:\"ng_formArea\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"input_name\",type:\"text\",className:\"ng_forminput\",value:title,name:\"title\",placeholder:\"Ingrese el nombre del juego...\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{id:\"input_released\",type:\"text\",className:\"ng_forminput\",value:released,name:\"released\",placeholder:\"Fecha de lanzamiento...\",onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{id:\"input_resume\",className:\"ng_textinput\",value:description,name:\"description\",placeholder:\"Breve res\\xFAmen ...\",type:\"text\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{id:\"input_rating\",type:\"text\",className:\"ng_forminput\",value:rating,name:\"rating\",placeholder:\"Puntaje...\",onChange:handleChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"ng_selectArea\",children:[/*#__PURE__*/_jsx(MultiSelectPlatform,{}),/*#__PURE__*/_jsx(\"input\",{id:\"input_name\",type:\"text\",className:\"anpforminput\",value:newplatform,name:\"newplatform\",placeholder:\"Ingrese plataforma no existente...\",onChange:handleChange}),/*#__PURE__*/_jsx(MultiSelectGenre,{}),/*#__PURE__*/_jsx(\"input\",{id:\"input_name\",type:\"text\",className:\"angforminput\",value:newgenre,name:\"newgenre\",placeholder:\"Ingrese g\\xE9nero no existente...\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ng_button-area\",children:/*#__PURE__*/_jsx(\"button\",{className:\"ng_button\",type:\"submit\",children:\"Guardar\"})})]})]})});};","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/CreateForm/CreateForm.jsx"],"names":["React","useState","useSelector","useDispatch","MultiSelectPlatform","MultiSelectGenre","saveNgGenSel","saveNgPlatfSel","sendedForm","axios","CreateForm","props","dispatch","title","setTitle","released","setReleased","description","setDescription","rating","setRating","newplatform","setNewplatform","newgenre","setNewgenre","handleChange","e","nombre","target","name","value","sgenres","state","nggensel","splatforms","ngplatfsel","handleSubmit","event","preventDefault","gametoadd","console","log","post","then","resp","data","alert"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './CreateForm.css';\nimport MultiSelectPlatform from '../MultiSelectPlatform/MultiSelectPlatform';\nimport MultiSelectGenre from '../MultiSelectGenre/MultiSelectGenre';\nimport {saveNgGenSel,saveNgPlatfSel,sendedForm} from '../../actions/actions';\nimport axios from 'axios';\n\nexport default function CreateForm(props) {\n\n  const dispatch = useDispatch();\n\n  let [title, setTitle] = useState('');\n  let [released, setReleased] = useState('');\n  let [description, setDescription] = useState('');\n  let [rating, setRating] = useState('');\n  let [newplatform, setNewplatform] = useState('');\n  let [newgenre, setNewgenre] = useState('');\n\n  function handleChange(e) {\n    let nombre = e.target.name;\n    switch (nombre) {\n      case 'title':\n        setTitle(e.target.value);\n        break;\n      case 'released':\n        setReleased(e.target.value);\n        break;\n      case 'description':\n        setDescription(e.target.value);\n        break;\n      case 'rating':\n        setRating(e.target.value);\n        break;\n      case 'newplatform':\n        setNewplatform(e.target.value);\n        break;\n      case 'newgenre':\n        setNewgenre(e.target.value);\n        break;\n      default:\n        break;\n    }\n  }\n\n  const sgenres = useSelector(state => state.nggensel);\n  const splatforms = useSelector(state => state.ngplatfsel);\n\n  const handleSubmit = (event) => {\n    event.preventDefault(); //sirve para evitar que refresque la pagina cada vez que apreto una tecla (comportamiento por default)\n    let gametoadd = { title, released, description, rating, sgenres , splatforms};\n    if (newplatform !== '') {\n      gametoadd = { ...gametoadd, newplatform };\n    }\n    if (newgenre !== '') {\n      gametoadd = { ...gametoadd, newgenre };\n    }\n    console.log(gametoadd.splatforms);\n\n    axios.post('http://localhost:3001/newvideogame', gametoadd)\n      .then(resp => {\n        console.log(resp.data);\n      })\n\n    alert('juego agregado');\n    setTitle('');\n    setReleased('');\n    setDescription('');\n    setRating('');\n    setNewplatform('');\n    setNewgenre('');\n    dispatch(saveNgGenSel([]));\n    dispatch(saveNgPlatfSel([]));\n    dispatch(sendedForm(true));\n  }\n\n\n\n  return (\n    <div className=\"ng_page\">\n      <div className=\"ng_container\">\n        <h1 className=\"ng_title\"  >Nuevo juego: </h1>\n        {/* <form method=\"post\" action=\"http://localhost:3001/newrecipe\" encType = \"multipart / form-data\" className=\"ng_formArea\" onSubmit={handleSubmit}> */}\n        <form method=\"post\" action=\"http://localhost:3001/newgame\" className=\"ng_formArea\" onSubmit={handleSubmit}>\n          <input\n            id=\"input_name\"\n            type=\"text\"\n            className=\"ng_forminput\"\n            value={title}\n            name='title'\n            placeholder=\"Ingrese el nombre del juego...\"\n            onChange={handleChange}>\n          </input>\n          <input\n            id=\"input_released\"\n            type=\"text\"\n            className=\"ng_forminput\"\n            value={released}\n            name='released'\n            placeholder=\"Fecha de lanzamiento...\"\n            onChange={handleChange}>\n          </input>\n          <textarea\n            id=\"input_resume\"\n            className=\"ng_textinput\"\n            value={description}\n            name='description'\n            placeholder=\"Breve resúmen ...\"\n            type=\"text\"\n            onChange={handleChange}>\n          </textarea>\n          <input\n            id=\"input_rating\"\n            type=\"text\"\n            className=\"ng_forminput\"\n            value={rating}\n            name='rating'\n            placeholder=\"Puntaje...\"\n            onChange={handleChange}>\n          </input>\n          <div className=\"ng_selectArea\">\n            <MultiSelectPlatform />\n            <input\n              id=\"input_name\"\n              type=\"text\"\n              className=\"anpforminput\"\n              value={newplatform}\n              name='newplatform'\n              placeholder=\"Ingrese plataforma no existente...\"\n              onChange={handleChange}>\n            </input>\n            <MultiSelectGenre />\n            <input\n              id=\"input_name\"\n              type=\"text\"\n              className=\"angforminput\"\n              value={newgenre}\n              name='newgenre'\n              placeholder=\"Ingrese género no existente...\"\n              onChange={handleChange}>\n            </input>\n          </div>\n          <div className=\"ng_button-area\">\n            <button className=\"ng_button\" type=\"submit\">Guardar</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n};"]},"metadata":{},"sourceType":"module"}