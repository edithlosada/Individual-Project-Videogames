{"ast":null,"code":"import _toConsumableArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'./NewGenres.css';import{addNgGen}from'../../actions/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewGenres(){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newgenre=_useState2[0],setNewgenre=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),newgenres=_useState4[0],setNewgenres=_useState4[1];var sended=useSelector(function(state){return state.sended;});var addedg=useSelector(function(state){return state.addedgenres;});// Cuando envía el formulario manda el arreglo de nuevos géneros al store.\nuseEffect(function(){if(sended){dispatch(addNgGen(newgenres));}},[sended,newgenres,dispatch]);// Una vez que el store recibe los géneros limpia el input y arreglo.\nuseEffect(function(){if(addedg){setNewgenres([]);setNewgenre('');}},[addedg]);function handleChange(e){setNewgenre(e.target.value);}function handleClickPlus(e){if(newgenre){setNewgenres([].concat(_toConsumableArray(newgenres),[newgenre]));//ojo\nsetNewgenre('');}}// Quita género de la selección\nfunction removeItem(item){var newItems=newgenres.filter(function(e){return e!==item;});setNewgenres(newItems);}// Cuando hace click en el botón lo saca\nfunction handleClick(e){var itm=e.target.value;removeItem(itm);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nggenfom\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input_name\",type:\"text\",className:\"angforminput\",value:newgenre,name:\"newgenre\",placeholder:\"Nuevo g\\xE9nero\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",onClick:handleClickPlus,value:'+'}),/*#__PURE__*/_jsx(\"div\",{className:\"ngencont\",children:newgenres&&newgenres.map(function(item,index){return/*#__PURE__*/_jsx(\"button\",{className:\"selgenbtn\",value:item,onClick:handleClick,children:item},index);})})]})});}","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/NewGenres/NewGenres.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","addNgGen","NewGenres","dispatch","newgenre","setNewgenre","newgenres","setNewgenres","sended","state","addedg","addedgenres","handleChange","e","target","value","handleClickPlus","removeItem","item","newItems","filter","handleClick","itm","map","index"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,iBAAP,CACA,OAASC,QAAT,KAAyB,uBAAzB,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAClC,GAAIC,CAAAA,QAAQ,CAAGH,WAAW,EAA1B,CADkC,cAGJH,QAAQ,CAAC,EAAD,CAHJ,wCAG7BO,QAH6B,eAGnBC,WAHmB,8BAIFR,QAAQ,CAAC,EAAD,CAJN,yCAI7BS,SAJ6B,eAIlBC,YAJkB,eAMlC,GAAIC,CAAAA,MAAM,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAV,EAAN,CAAxB,CACA,GAAIE,CAAAA,MAAM,CAAGX,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACE,WAAV,EAAN,CAAxB,CAEA;AACAb,SAAS,CAAC,UAAM,CACd,GAAIU,MAAJ,CAAY,CACVL,QAAQ,CAACF,QAAQ,CAACK,SAAD,CAAT,CAAR,CACD,CACF,CAJQ,CAIN,CAACE,MAAD,CAASF,SAAT,CAAoBH,QAApB,CAJM,CAAT,CAMA;AACAL,SAAS,CAAC,UAAM,CACd,GAAIY,MAAJ,CAAY,CACVH,YAAY,CAAC,EAAD,CAAZ,CACAF,WAAW,CAAC,EAAD,CAAX,CACD,CACF,CALQ,CAKN,CAACK,MAAD,CALM,CAAT,CAOA,QAASE,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBR,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAED,QAASC,CAAAA,eAAT,CAAyBH,CAAzB,CAA4B,CAC1B,GAAIT,QAAJ,CAAc,CACZG,YAAY,8BAAKD,SAAL,GAAgBF,QAAhB,GAAZ,CAAuC;AACvCC,WAAW,CAAC,EAAD,CAAX,CACD,CACF,CAED;AACA,QAASY,CAAAA,UAAT,CAAoBC,IAApB,CAA0B,CACxB,GAAIC,CAAAA,QAAQ,CAAGb,SAAS,CAACc,MAAV,CAAiB,SAAAP,CAAC,QAAIA,CAAAA,CAAC,GAAKK,IAAV,EAAlB,CAAf,CACAX,YAAY,CAACY,QAAD,CAAZ,CACD,CAED;AACA,QAASE,CAAAA,WAAT,CAAqBR,CAArB,CAAwB,CACtB,GAAIS,CAAAA,GAAG,CAAGT,CAAC,CAACC,MAAF,CAASC,KAAnB,CACAE,UAAU,CAACK,GAAD,CAAV,CACD,CAED,mBACE,kCACE,aAAK,SAAS,CAAC,UAAf,wBACE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAElB,QAJT,CAKE,IAAI,CAAC,UALP,CAME,WAAW,CAAC,iBANd,CAOE,QAAQ,CAAEQ,YAPZ,EADF,cAUE,cAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,CAAEI,eAA9B,CAA+C,KAAK,CAAE,GAAtD,EAVF,cAWE,YAAK,SAAS,CAAC,UAAf,UACGV,SAAS,EAAIA,SAAS,CAACiB,GAAV,CAAc,SAACL,IAAD,CAAOM,KAAP,qBAC1B,eAAQ,SAAS,CAAC,WAAlB,CAA8B,KAAK,CAAEN,IAArC,CACE,OAAO,CAAEG,WADX,UAEGH,IAFH,EAC6BM,KAD7B,CAD0B,EAAd,CADhB,EAXF,GADF,EADF,CAwBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './NewGenres.css';\nimport { addNgGen } from '../../actions/actions';\n\nexport default function NewGenres() {\n  let dispatch = useDispatch();\n\n  let [newgenre, setNewgenre] = useState('');\n  let [newgenres, setNewgenres] = useState([]);\n\n  let sended = useSelector(state => state.sended);\n  let addedg = useSelector(state => state.addedgenres);\n\n  // Cuando envía el formulario manda el arreglo de nuevos géneros al store.\n  useEffect(() => {\n    if (sended) {\n      dispatch(addNgGen(newgenres));\n    }\n  }, [sended, newgenres, dispatch]);\n\n  // Una vez que el store recibe los géneros limpia el input y arreglo.\n  useEffect(() => {\n    if (addedg) {\n      setNewgenres([]);\n      setNewgenre('');\n    }\n  }, [addedg]);\n\n  function handleChange(e) {\n    setNewgenre(e.target.value);\n  }\n\n  function handleClickPlus(e) {\n    if (newgenre) {\n      setNewgenres([...newgenres, newgenre]);//ojo\n      setNewgenre('');\n    }\n  }\n\n  // Quita género de la selección\n  function removeItem(item) {\n    let newItems = newgenres.filter(e => e !== item);\n    setNewgenres(newItems);\n  }\n\n  // Cuando hace click en el botón lo saca\n  function handleClick(e) {\n    let itm = e.target.value;\n    removeItem(itm);\n  }\n\n  return (\n    <div >\n      <div className=\"nggenfom\">\n        <input\n          id=\"input_name\"\n          type=\"text\"\n          className=\"angforminput\"\n          value={newgenre}\n          name='newgenre'\n          placeholder=\"Nuevo género\"\n          onChange={handleChange}>\n        </input>\n        <input type=\"button\" onClick={handleClickPlus} value={'+'} />\n        <div className=\"ngencont\">\n          {newgenres && newgenres.map((item, index) => (\n            <button className=\"selgenbtn\" value={item}\n              onClick={handleClick} key={index}>\n              {item}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}