{"ast":null,"code":"import _toConsumableArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'./NewPlatforms.css';import{addNgPltf}from'../../actions/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewPlatforms(){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newplatform=_useState2[0],setNewplatform=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),newplatforms=_useState4[0],setNewplatforms=_useState4[1];var sended=useSelector(function(state){return state.sended;});var addeptf=useSelector(function(state){return state.addedplatfms;});// Cuando envía el formulario manda el arreglo de nuevos géneros al store.\nuseEffect(function(){if(sended){dispatch(addNgPltf(newplatforms));}},[sended,newplatforms,dispatch]);// Una vez que el store recibe las plataformas limpia el input y arreglo.\nuseEffect(function(){if(addeptf){setNewplatforms([]);setNewplatform('');}},[addeptf]);function handleChange(e){setNewplatform(e.target.value);}function handleClickPlus(e){if(newplatform){setNewplatforms([].concat(_toConsumableArray(newplatforms),[newplatform]));setNewplatform('');}}// Quita género de la selección\nfunction removeItem(item){var newItems=newplatforms.filter(function(e){return e!==item;});setNewplatforms(newItems);}// Cuando hace click en el botón lo saca\nfunction handleClick(e){var itm=e.target.value;removeItem(itm);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nggenfom\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input_name\",type:\"text\",className:\"angpforminput\",value:newplatform,name:\"newplatform\",placeholder:\"Nueva plataforma\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",onClick:handleClickPlus,value:'+'}),/*#__PURE__*/_jsx(\"div\",{className:\"ngencont\",children:newplatforms&&newplatforms.map(function(item,index){return/*#__PURE__*/_jsx(\"button\",{className:\"selgenbtn\",value:item,onClick:handleClick,children:item},index);})})]})});}","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/NewPlatforms/NewPlatforms.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","addNgPltf","NewPlatforms","dispatch","newplatform","setNewplatform","newplatforms","setNewplatforms","sended","state","addeptf","addedplatfms","handleChange","e","target","value","handleClickPlus","removeItem","item","newItems","filter","handleClick","itm","map","index"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,oBAAP,CACA,OAASC,SAAT,KAA0B,uBAA1B,C,wFAEA,cAAe,SAASC,CAAAA,YAAT,EAAwB,CACrC,GAAIC,CAAAA,QAAQ,CAAGH,WAAW,EAA1B,CADqC,cAGDH,QAAQ,CAAC,EAAD,CAHP,wCAGhCO,WAHgC,eAGnBC,cAHmB,8BAICR,QAAQ,CAAC,EAAD,CAJT,yCAIhCS,YAJgC,eAIlBC,eAJkB,eAMrC,GAAIC,CAAAA,MAAM,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAV,EAAN,CAAxB,CACA,GAAIE,CAAAA,OAAO,CAAGX,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACE,YAAV,EAAN,CAAzB,CAEA;AACAb,SAAS,CAAC,UAAM,CACd,GAAIU,MAAJ,CAAY,CACVL,QAAQ,CAACF,SAAS,CAACK,YAAD,CAAV,CAAR,CACD,CACF,CAJQ,CAIN,CAACE,MAAD,CAASF,YAAT,CAAuBH,QAAvB,CAJM,CAAT,CAMA;AACAL,SAAS,CAAC,UAAM,CACd,GAAIY,OAAJ,CAAa,CACXH,eAAe,CAAC,EAAD,CAAf,CACAF,cAAc,CAAC,EAAD,CAAd,CACD,CACF,CALQ,CAKN,CAACK,OAAD,CALM,CAAT,CAOA,QAASE,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBR,cAAc,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASC,CAAAA,eAAT,CAAyBH,CAAzB,CAA4B,CAC1B,GAAIT,WAAJ,CAAiB,CACfG,eAAe,8BAAKD,YAAL,GAAmBF,WAAnB,GAAf,CACAC,cAAc,CAAC,EAAD,CAAd,CACD,CACF,CAED;AACA,QAASY,CAAAA,UAAT,CAAoBC,IAApB,CAA0B,CACxB,GAAIC,CAAAA,QAAQ,CAAGb,YAAY,CAACc,MAAb,CAAoB,SAAAP,CAAC,QAAIA,CAAAA,CAAC,GAAKK,IAAV,EAArB,CAAf,CACAX,eAAe,CAACY,QAAD,CAAf,CACD,CAED;AACA,QAASE,CAAAA,WAAT,CAAqBR,CAArB,CAAwB,CACtB,GAAIS,CAAAA,GAAG,CAAGT,CAAC,CAACC,MAAF,CAASC,KAAnB,CACAE,UAAU,CAACK,GAAD,CAAV,CACD,CAED,mBACE,kCACE,aAAK,SAAS,CAAC,UAAf,wBACE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,eAHZ,CAIE,KAAK,CAAElB,WAJT,CAKE,IAAI,CAAC,aALP,CAME,WAAW,CAAC,kBANd,CAOE,QAAQ,CAAEQ,YAPZ,EADF,cAUE,cAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,CAAEI,eAA9B,CAA+C,KAAK,CAAE,GAAtD,EAVF,cAWE,YAAK,SAAS,CAAC,UAAf,UACGV,YAAY,EAAIA,YAAY,CAACiB,GAAb,CAAiB,SAACL,IAAD,CAAOM,KAAP,qBAChC,eAAQ,SAAS,CAAC,WAAlB,CAA8B,KAAK,CAAEN,IAArC,CACE,OAAO,CAAEG,WADX,UAEGH,IAFH,EAC6BM,KAD7B,CADgC,EAAjB,CADnB,EAXF,GADF,EADF,CAwBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './NewPlatforms.css';\nimport { addNgPltf } from '../../actions/actions';\n\nexport default function NewPlatforms() {\n  let dispatch = useDispatch();\n\n  let [newplatform, setNewplatform] = useState('');\n  let [newplatforms, setNewplatforms] = useState([]);\n\n  let sended = useSelector(state => state.sended);\n  let addeptf = useSelector(state => state.addedplatfms);\n\n  // Cuando envía el formulario manda el arreglo de nuevos géneros al store.\n  useEffect(() => {\n    if (sended) {\n      dispatch(addNgPltf(newplatforms));\n    }\n  }, [sended, newplatforms, dispatch]);\n\n  // Una vez que el store recibe las plataformas limpia el input y arreglo.\n  useEffect(() => {\n    if (addeptf) {\n      setNewplatforms([]);\n      setNewplatform('');\n    }\n  }, [addeptf]);\n\n  function handleChange(e) {\n    setNewplatform(e.target.value);\n  }\n\n  function handleClickPlus(e) {\n    if (newplatform) {\n      setNewplatforms([...newplatforms, newplatform]);\n      setNewplatform('');\n    }\n  }\n\n  // Quita género de la selección\n  function removeItem(item) {\n    let newItems = newplatforms.filter(e => e !== item);\n    setNewplatforms(newItems);\n  }\n\n  // Cuando hace click en el botón lo saca\n  function handleClick(e) {\n    let itm = e.target.value;\n    removeItem(itm);\n  }\n\n  return (\n    <div >\n      <div className=\"nggenfom\">\n        <input\n          id=\"input_name\"\n          type=\"text\"\n          className=\"angpforminput\"\n          value={newplatform}\n          name='newplatform'\n          placeholder=\"Nueva plataforma\"\n          onChange={handleChange}>\n        </input>\n        <input type=\"button\" onClick={handleClickPlus} value={'+'} />\n        <div className=\"ngencont\">\n          {newplatforms && newplatforms.map((item, index) => (\n            <button className=\"selgenbtn\" value={item}\n              onClick={handleClick} key={index}>\n              {item}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}