{"ast":null,"code":"import _regeneratorRuntime from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import fetch from'node-fetch';export var SET_NG_GEN_SEL=\"SET_NG_GEN_SEL\";export var SET_NG_PTF_SEL=\"SET_NG_PTF_SEL\";export var SEND_FORM=\"SEND_FORM\";export var INIT_SEARCH=\"INIT_SEARCH\";export var CLEAN_SEARCH=\"CLEAN_SEARCH\";export var SET_ORIG=\"SET_ORIG\";export var SHOW_MSG=\"SHOW_MSG\";export var SET_ORDER_OPT=\"SET_ORDER_OPT\";export var SET_SEARCH_GEN=\"SET_SEARCH_GEN\";export var DB_GEN_OP_SEARCH=\"DB_GEN_OP_SEARCH\";export var API_GEN_OP_SEARCH=\"API_GEN_OP_SEARCH\";export var TITLE_SEARCH=\"TITLE_SEARCH\";export var GET_API_GAMES=\"GET_API_GAMES\";export var GET_DB_GAMES=\"GET_DB_GAMES\";export var CLEAN_CARDS=\"CLEAN_CARDS\";//bORRAR\nexport var SET_GAMES_TO_SHOW=\"SET_GAMES_TO_SHOW\";export var ADD_NG_GEN=\"ADD_NG_GEN\";export var ADD_NG_PLTF=\"ADD_NG_PLTF,\";//---------New Game -----------\nexport function saveNgGenSel(arr){return{type:SET_NG_GEN_SEL,payload:arr};}export function saveNgPlatfSel(arr){return{type:SET_NG_PTF_SEL,payload:arr};}export function sendedForm(boolean){return{type:SEND_FORM,payload:boolean};}//---------Search Game -----------\nexport function initsearch(boolean){return{type:INIT_SEARCH,payload:boolean};}export function cleansearch(boolean){return{type:CLEAN_SEARCH,payload:boolean};}export function setOrigOpt(str){return{type:SET_ORIG,payload:str};}export function setShowmsg(boolean){return{type:SHOW_MSG,payload:boolean};}export function searchGenre(str){return{type:SET_SEARCH_GEN,payload:str};}export function setOrderOpt(str){return{type:SET_ORDER_OPT,payload:str};}export function dbGenOpSearch(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",fetch(\" http://localhost:3001/genres\").then(function(response){return response.json();}).then(function(arr){var newarr=arr.map(function(e){return e.name;});return newarr;}).then(function(arr){// console.log(arr);\ndispatch({type:DB_GEN_OP_SEARCH,payload:arr});}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();}// Request a la API para traerse los géneros desde el back.\nexport function apiGenOpSearch(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch(\"http://localhost:3001/apigenres\").then(function(response){return response.json();}).then(function(arr){// console.log(arr);\ndispatch({type:API_GEN_OP_SEARCH,payload:arr});}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();}export function titleSearch(str){return{type:TITLE_SEARCH,payload:str};}// Request a la API para traer los 100 primeros videojuegos desde el back.\nexport function getApiGames(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",fetch(\"http://localhost:3001/videogames/\").then(function(response){return response.json();}).then(function(arr){//console.log(arr);\ndispatch({type:GET_API_GAMES,payload:arr});}));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();}// Request a la DB para traer los videojuegos.\nexport function getDbGames(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",fetch(\"http://localhost:3001/dbvideogames\").then(function(response){return response.json();}).then(function(arr){// console.log(arr);\ndispatch({type:GET_DB_GAMES,payload:arr});}));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();}export function cleancards(boolean){// Borrar!!!\nreturn{type:CLEAN_CARDS,payload:boolean};}export function setGamesToShow(arr){// Borrar!!!\nreturn{type:SET_GAMES_TO_SHOW,payload:arr};}export function addNgGen(arr){return{type:ADD_NG_GEN,payload:arr};}export function addNgPltf(arr){return{type:ADD_NG_PLTF,payload:arr};}// Request a la API para traer las plataformas de videojuegos desde el front..\n// export function getApiPlatforms() {\n//   return function (dispatch) {\n//     return fetch(\"https://api.rawg.io/api/platforms\") //url de api con plataformas\n//       .then(response => response.json()) //aplica json y retorna\n//       .then(json => {\n//         let data = json.results;\n//         let apiPlatfs = data.map(e => e.name);\n//         return apiPlatfs;\n//       })\n//       .then(platfs => {\n//         dispatch({ type: GET_API_PLATFORMS, payload: platfs }) // lo manda al reducer\n//       });\n//   };\n// }\n//----------------------------------------------------------\n// Request a la API para traerse los géneros desde el front.\n// export function apiGenOpSearch() {\n//   const genObjFromArr = (arreglo) => {\n//     let arr = arreglo;\n//     let gen = [];\n//     for (let i = 0; i < arr.length; i++) {\n//       let obj = { value: arr[i].name, label: arr[i].name };\n//       gen.push(obj);\n//     }\n//     return gen;\n//   }\n//   return function (dispatch) {\n//     fetch(\"https://api.rawg.io/api/genres?key=bb129cbd5b1b4968a7aec68ed0a7b91d\")\n//       .then(response => {\n//         return response.json();\n//       })\n//       .then(json => {\n//         return json.results;\n//       })\n//       .then(async jarr => {\n//         let narr = await genObjFromArr(jarr);\n//         return narr; //<---\n//       })\n//       .then(arr => {\n//         dispatch({ type: API_GEN_OP_SEARCH, payload: arr })\n//       })\n//   }\n// }","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/actions/actions.js"],"names":["fetch","SET_NG_GEN_SEL","SET_NG_PTF_SEL","SEND_FORM","INIT_SEARCH","CLEAN_SEARCH","SET_ORIG","SHOW_MSG","SET_ORDER_OPT","SET_SEARCH_GEN","DB_GEN_OP_SEARCH","API_GEN_OP_SEARCH","TITLE_SEARCH","GET_API_GAMES","GET_DB_GAMES","CLEAN_CARDS","SET_GAMES_TO_SHOW","ADD_NG_GEN","ADD_NG_PLTF","saveNgGenSel","arr","type","payload","saveNgPlatfSel","sendedForm","boolean","initsearch","cleansearch","setOrigOpt","str","setShowmsg","searchGenre","setOrderOpt","dbGenOpSearch","dispatch","then","response","json","newarr","map","e","name","apiGenOpSearch","titleSearch","getApiGames","getDbGames","cleancards","setGamesToShow","addNgGen","addNgPltf"],"mappings":"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","sourcesContent":["import fetch from 'node-fetch';\nexport const SET_NG_GEN_SEL = \"SET_NG_GEN_SEL\";\nexport const SET_NG_PTF_SEL = \"SET_NG_PTF_SEL\";\nexport const SEND_FORM = \"SEND_FORM\";\nexport const INIT_SEARCH = \"INIT_SEARCH\";\nexport const CLEAN_SEARCH = \"CLEAN_SEARCH\";\nexport const SET_ORIG = \"SET_ORIG\";\nexport const SHOW_MSG = \"SHOW_MSG\";\nexport const SET_ORDER_OPT = \"SET_ORDER_OPT\";\nexport const SET_SEARCH_GEN = \"SET_SEARCH_GEN\";\nexport const DB_GEN_OP_SEARCH = \"DB_GEN_OP_SEARCH\";\nexport const API_GEN_OP_SEARCH = \"API_GEN_OP_SEARCH\";\nexport const TITLE_SEARCH = \"TITLE_SEARCH\";\nexport const GET_API_GAMES = \"GET_API_GAMES\";\nexport const GET_DB_GAMES = \"GET_DB_GAMES\";\nexport const CLEAN_CARDS = \"CLEAN_CARDS\";//bORRAR\nexport const SET_GAMES_TO_SHOW = \"SET_GAMES_TO_SHOW\";\nexport const ADD_NG_GEN = \"ADD_NG_GEN\";\nexport const ADD_NG_PLTF = \"ADD_NG_PLTF,\";\n\n//---------New Game -----------\nexport function saveNgGenSel(arr) {\n  return { type: SET_NG_GEN_SEL, payload: arr };\n}\n\nexport function saveNgPlatfSel(arr) {\n  return { type: SET_NG_PTF_SEL, payload: arr };\n}\n\nexport function sendedForm(boolean) {\n  return { type: SEND_FORM, payload: boolean };\n}\n\n//---------Search Game -----------\n\nexport function initsearch(boolean) {\n  return { type: INIT_SEARCH, payload: boolean };\n}\n\nexport function cleansearch(boolean) {\n  return { type: CLEAN_SEARCH, payload: boolean };\n}\n\nexport function setOrigOpt(str) {\n  return { type: SET_ORIG, payload: str };\n}\n\nexport function setShowmsg(boolean) {\n  return { type: SHOW_MSG, payload: boolean };\n}\n\nexport function searchGenre(str) {\n  return { type: SET_SEARCH_GEN, payload: str };\n}\n\nexport function setOrderOpt(str) {\n  return { type: SET_ORDER_OPT, payload: str };\n}\n\nexport function dbGenOpSearch() {\n  return async function (dispatch) {\n    return fetch(\" http://localhost:3001/genres\")\n      .then(response => response.json()) \n      .then(arr => {\n        let newarr = arr.map(e => e.name);\n        return newarr;\n      })\n      .then(arr => {\n        // console.log(arr);\n        dispatch({ type: DB_GEN_OP_SEARCH, payload: arr })\n      })\n  }\n}\n\n// Request a la API para traerse los géneros desde el back.\nexport function apiGenOpSearch() {\n  return async function (dispatch) {\n    return fetch(\"http://localhost:3001/apigenres\")\n      .then(response => response.json()) \n      .then(arr => {\n        // console.log(arr);\n        dispatch({ type: API_GEN_OP_SEARCH, payload: arr })\n      })\n  }\n}\n\nexport function titleSearch(str) {\n  return { type: TITLE_SEARCH, payload: str };\n}\n\n// Request a la API para traer los 100 primeros videojuegos desde el back.\nexport function getApiGames() {\n  return async function (dispatch) {\n    return fetch(\"http://localhost:3001/videogames/\")\n      .then(response => response.json()) \n      .then(arr => {\n        //console.log(arr);\n        dispatch({ type: GET_API_GAMES, payload: arr });\n      })\n  }\n}\n\n// Request a la DB para traer los videojuegos.\nexport function getDbGames() {\n  return async function (dispatch) {\n    return fetch(\"http://localhost:3001/dbvideogames\")\n      .then(response => response.json()) \n      .then(arr => {\n        // console.log(arr);\n        dispatch({ type: GET_DB_GAMES, payload: arr });\n      })\n  }\n}\n\nexport function cleancards(boolean) { // Borrar!!!\n  return { type: CLEAN_CARDS, payload: boolean };\n}\n\nexport function setGamesToShow(arr) { // Borrar!!!\n  return { type: SET_GAMES_TO_SHOW, payload: arr };\n}\n\nexport function addNgGen(arr) {\n  return { type: ADD_NG_GEN, payload: arr };\n}\n\nexport function addNgPltf(arr) {\n  return { type: ADD_NG_PLTF, payload: arr };\n}\n\n// Request a la API para traer las plataformas de videojuegos desde el front..\n// export function getApiPlatforms() {\n//   return function (dispatch) {\n//     return fetch(\"https://api.rawg.io/api/platforms\") //url de api con plataformas\n//       .then(response => response.json()) //aplica json y retorna\n//       .then(json => {\n//         let data = json.results;\n//         let apiPlatfs = data.map(e => e.name);\n//         return apiPlatfs;\n//       })\n//       .then(platfs => {\n//         dispatch({ type: GET_API_PLATFORMS, payload: platfs }) // lo manda al reducer\n//       });\n//   };\n// }\n//----------------------------------------------------------\n// Request a la API para traerse los géneros desde el front.\n// export function apiGenOpSearch() {\n\n//   const genObjFromArr = (arreglo) => {\n//     let arr = arreglo;\n//     let gen = [];\n//     for (let i = 0; i < arr.length; i++) {\n//       let obj = { value: arr[i].name, label: arr[i].name };\n//       gen.push(obj);\n//     }\n//     return gen;\n//   }\n\n//   return function (dispatch) {\n//     fetch(\"https://api.rawg.io/api/genres?key=bb129cbd5b1b4968a7aec68ed0a7b91d\")\n//       .then(response => {\n//         return response.json();\n//       })\n//       .then(json => {\n//         return json.results;\n//       })\n//       .then(async jarr => {\n//         let narr = await genObjFromArr(jarr);\n//         return narr; //<---\n//       })\n//       .then(arr => {\n//         dispatch({ type: API_GEN_OP_SEARCH, payload: arr })\n//       })\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}