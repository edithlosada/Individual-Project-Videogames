{"ast":null,"code":"import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from'react';import{useParams}from\"react-router\";import{useLocation}from\"react-router-dom\";import'./GameDetail.css';import Navbar from'../Navbar/Navbar';import star from'../../imgs/star.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function GameDetail(){var _useParams=useParams(),id=_useParams.id;// <-- Retorna un objeto, acá es {id: Nro}\nvar urlQuery=new URLSearchParams(useLocation().search);//<-- Retorna un objeto\nvar orig=urlQuery.get('orig');//obtiene el query cuya key es 'orig'.\n// console.log(id, orig)\nuseEffect(function(){function getGameinfo(_x,_x2){return _getGameinfo.apply(this,arguments);}function _getGameinfo(){_getGameinfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,orig){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(orig==='API')){_context.next=5;break;}_context.next=3;return fetch(\"http://localhost:3001/videogame/\".concat(id)).then(function(response){return response.json();}).then(function(obj){setGobj(obj);}).catch(function(error){return console.log(error);});case 3:_context.next=8;break;case 5:if(!(orig==='DB')){_context.next=8;break;}_context.next=8;return fetch(\"http://localhost:3001/dbvideogame/\".concat(id)).then(function(response){return response.json();}).then(function(obj){setGobj(obj);}).catch(function(error){return console.log(error);});case 8:case\"end\":return _context.stop();}}},_callee);}));return _getGameinfo.apply(this,arguments);}getGameinfo(id,orig);},[id,orig]);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),gobj=_useState2[0],setGobj=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),ggstr=_useState4[0],setGgstr=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),gpstr=_useState6[0],setGpstr=_useState6[1];useEffect(function(){if(gobj){var gstr=gobj.genres.toString().replace(/,/g,' - ');setGgstr(gstr);var pstr=gobj.platforms.toString().replace(/,/g,' - ');setGpstr(pstr);}},[gobj]);useEffect(function(){},[ggstr,gpstr]);return/*#__PURE__*/_jsxs(\"div\",{className:\"ng_page\",children:[/*#__PURE__*/_jsx(Navbar,{}),gobj&&/*#__PURE__*/_jsxs(\"div\",{className:\"gd_area\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"gd_title\",children:[gobj.name,\" \"]}),/*#__PURE__*/_jsx(\"img\",{className:\"gd_picture\",src:gobj.img_url,alt:\"game_img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gd_picture-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"star\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"star_img\",src:star,alt:\"star\"}),/*#__PURE__*/_jsx(\"p\",{className:\"gdpT\",children:/*#__PURE__*/_jsx(\"b\",{className:\"gdt\",children:gobj.rating})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"gdpT\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"gdt\",children:\"Released:\"}),gobj.released]}),/*#__PURE__*/_jsx(\"p\",{className:\"gdpT\",children:/*#__PURE__*/_jsx(\"b\",{className:\"gdt\",children:\"Genres:\"})}),ggstr&&/*#__PURE__*/_jsxs(\"p\",{className:\"gdpTdesc\",children:[\" \",ggstr]}),/*#__PURE__*/_jsx(\"p\",{className:\"gdpT\",children:/*#__PURE__*/_jsx(\"b\",{className:\"gdt\",children:\"Platforms:\"})}),gpstr&&/*#__PURE__*/_jsxs(\"p\",{className:\"gdpTdesc\",children:[\" \",gpstr]}),/*#__PURE__*/_jsx(\"p\",{className:\"gdpT\",children:/*#__PURE__*/_jsx(\"b\",{className:\"gdt\",children:\"Description:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"gdpTdesc\",children:gobj.description}),/*#__PURE__*/_jsx(\"div\",{})]})]})]});}","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/GameDetail/GameDetail.jsx"],"names":["React","useState","useEffect","useParams","useLocation","Navbar","star","GameDetail","id","urlQuery","URLSearchParams","search","orig","get","getGameinfo","fetch","then","response","json","obj","setGobj","catch","error","console","log","gobj","ggstr","setGgstr","gpstr","setGpstr","gstr","genres","toString","replace","pstr","platforms","name","img_url","rating","released","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\nimport './GameDetail.css';\nimport Navbar from '../Navbar/Navbar';\nimport star from '../../imgs/star.png';\n\nexport default function GameDetail() {\n\n  let { id } = useParams(); // <-- Retorna un objeto, acá es {id: Nro}\n\n  let urlQuery = new URLSearchParams(useLocation().search);  //<-- Retorna un objeto\n  let orig = urlQuery.get('orig'); //obtiene el query cuya key es 'orig'.\n  // console.log(id, orig)\n\n  useEffect(() => {\n    async function getGameinfo(id, orig) {\n      if (orig === 'API') {\n        await fetch(`http://localhost:3001/videogame/${id}`)\n          .then(response => response.json())\n          .then(obj => {\n            setGobj(obj);\n          })\n          .catch(error => console.log(error))\n\n      } else if (orig === 'DB') {\n        await fetch(`http://localhost:3001/dbvideogame/${id}`)\n          .then(response => response.json())\n          .then(obj => {\n            setGobj(obj);\n          })\n          .catch(error => console.log(error))\n      }\n    }\n\n    getGameinfo(id, orig);\n  }, [id, orig])\n\n  let [gobj, setGobj] = useState(null);\n  let [ggstr, setGgstr] = useState(null);\n  let [gpstr, setGpstr] = useState(null);\n\n  useEffect(() => {\n    if (gobj) {\n      let gstr = gobj.genres.toString().replace(/,/g, ' - ');\n      setGgstr(gstr);\n      let pstr = gobj.platforms.toString().replace(/,/g, ' - ');\n      setGpstr(pstr);\n    }\n  }, [gobj])\n\n  useEffect(() => {\n  }, [ggstr,gpstr])\n\n\n  return (\n    <div className=\"ng_page\">\n      <Navbar />\n      {gobj && <div className=\"gd_area\">\n        <h1 className=\"gd_title\"  >{gobj.name} </h1>\n        <img className=\"gd_picture\" src={gobj.img_url} alt=\"game_img\" />\n        <div className=\"gd_picture-info\">\n          <div className=\"star\">\n            <img className=\"star_img\" src={star} alt=\"star\" />\n            <p className=\"gdpT\"><b className=\"gdt\">{gobj.rating}</b></p>\n          </div>\n          <p className=\"gdpT\"><b className=\"gdt\">Released:</b>{gobj.released}</p>\n          <p className=\"gdpT\"><b className=\"gdt\">Genres:</b></p>\n          {ggstr&&<p className=\"gdpTdesc\"> {ggstr}</p>}\n          <p className=\"gdpT\"><b className=\"gdt\">Platforms:</b></p>\n          {gpstr&&<p className=\"gdpTdesc\"> {gpstr}</p>}\n          <p className=\"gdpT\"><b className=\"gdt\">Description:</b></p>\n          <p className=\"gdpTdesc\">{gobj.description}</p>\n          <div>\n          </div>\n        </div>\n      </div>}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}