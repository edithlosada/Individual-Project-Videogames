{"ast":null,"code":"import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import'./SearchBar.css';import{titleSearch,cleansearch,initsearch}from'../../actions/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SearchBar(){var dispatch=useDispatch();var inits=useSelector(function(state){return state.initsearch;});var cleans=useSelector(function(state){return state.cleansearch;});var sgenre=useSelector(function(state){return state.searchgenre;});var st=useSelector(function(state){return state.stitle;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),gname=_useState2[0],setGname=_useState2[1];// game name\n// Registra cambios en el input de búsqueda \n// y lo guarda en el estado local del componente\nvar handleChange=function handleChange(e){console.log(e.target.value);setGname(e.target.value);};// Cada vez que presione buscar, state.initsearch/inits = true\n// y manda el titulo al store (state.stitle).\nuseEffect(function(){if(inits){console.log(\"buscaste \".concat(gname));dispatch(titleSearch(gname));}},[inits,gname,dispatch]);// Una vez que despachó el título a buscar, que limpie el input\n// useEffect(() => {\n//   setGname('');\n// },[st])  \n// Cada vez que presione \"Otra búsqueda\", state.initsearch/inits = false\n// y state.cleansearch/cleans = true. Limpia el input, la búsqueda en el store\n// y vuelve a setear state.cleansearch/cleans = false.\nuseEffect(function(){if(!!cleans||!!sgenre){setGname('');// console.log(`buscaste ${gname}`);\ndispatch(titleSearch(''));dispatch(cleansearch(false));}},[cleans,sgenre,dispatch]);// console.log(inits,gname);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"input\",{className:\"search_input\",type:\"text\",placeholder:\" Ingrese el nombre del juego...\",value:gname,onChange:handleChange})});};","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/SearchBar/SearchBar.jsx"],"names":["React","useState","useEffect","useRef","useDispatch","useSelector","titleSearch","cleansearch","initsearch","SearchBar","dispatch","inits","state","cleans","sgenre","searchgenre","st","stitle","gname","setGname","handleChange","e","console","log","target","value"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA2BC,SAA3B,CAAuCC,MAAvC,KAAoD,OAApD,CACA,OAASC,WAAT,CAAuBC,WAAvB,KAAyC,aAAzC,CACA,MAAO,iBAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAoCC,UAApC,KAAqD,uBAArD,C,gGAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAElC,GAAIC,CAAAA,QAAQ,CAAGN,WAAW,EAA1B,CACA,GAAIO,CAAAA,KAAK,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACJ,UAAV,EAAN,CAAvB,CACA,GAAIK,CAAAA,MAAM,CAAGR,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACL,WAAV,EAAN,CAAxB,CACA,GAAIO,CAAAA,MAAM,CAAGT,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACG,WAAV,EAAN,CAAxB,CACA,GAAIC,CAAAA,EAAE,CAAGX,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACK,MAAV,EAAN,CAApB,CANkC,cAOXhB,QAAQ,CAAC,EAAD,CAPG,wCAO7BiB,KAP6B,eAOvBC,QAPuB,eAOE;AAEpC;AACA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB,EACAN,QAAQ,CAACE,CAAC,CAACG,MAAF,CAASC,KAAV,CAAR,CACD,CAHD,CAKA;AACA;AACAvB,SAAS,CAAC,UAAM,CACd,GAAGS,KAAH,CAAS,CACPW,OAAO,CAACC,GAAR,oBAAwBL,KAAxB,GACAR,QAAQ,CAACJ,WAAW,CAACY,KAAD,CAAZ,CAAR,CACD,CACF,CALQ,CAKP,CAACP,KAAD,CAAOO,KAAP,CAAaR,QAAb,CALO,CAAT,CAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACAR,SAAS,CAAC,UAAM,CACd,GAAG,CAAC,CAACW,MAAF,EAAU,CAAC,CAACC,MAAf,CAAsB,CACpBK,QAAQ,CAAC,EAAD,CAAR,CACA;AACAT,QAAQ,CAACJ,WAAW,CAAC,EAAD,CAAZ,CAAR,CACAI,QAAQ,CAACH,WAAW,CAAC,KAAD,CAAZ,CAAR,CACD,CACF,CAPQ,CAOP,CAACM,MAAD,CAAQC,MAAR,CAAeJ,QAAf,CAPO,CAAT,CASA;AAEA,mBACE,sCACE,cAAO,SAAS,CAAC,cAAjB,CACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,iCAFd,CAGE,KAAK,CAAIQ,KAHX,CAIE,QAAQ,CAAIE,YAJd,EADF,EADF,CAUD","sourcesContent":["import React, { useState , useEffect , useRef} from 'react';\nimport { useDispatch , useSelector} from 'react-redux';\nimport './SearchBar.css';\nimport { titleSearch ,cleansearch , initsearch} from '../../actions/actions';\n\nexport default function SearchBar() {\n\n  let dispatch = useDispatch();\n  let inits = useSelector(state => state.initsearch);\n  let cleans = useSelector(state => state.cleansearch);\n  let sgenre = useSelector(state => state.searchgenre);\n  let st = useSelector(state => state.stitle);\n  let [gname,setGname] = useState('');// game name\n\n  // Registra cambios en el input de búsqueda \n  // y lo guarda en el estado local del componente\n  const handleChange = (e) => {\n    console.log(e.target.value);\n    setGname(e.target.value);\n  }\n\n  // Cada vez que presione buscar, state.initsearch/inits = true\n  // y manda el titulo al store (state.stitle).\n  useEffect(() => {\n    if(inits){\n      console.log(`buscaste ${gname}`);\n      dispatch(titleSearch(gname));\n    }\n  },[inits,gname,dispatch]);\n\n  // Una vez que despachó el título a buscar, que limpie el input\n  // useEffect(() => {\n  //   setGname('');\n  // },[st])  \n\n  // Cada vez que presione \"Otra búsqueda\", state.initsearch/inits = false\n  // y state.cleansearch/cleans = true. Limpia el input, la búsqueda en el store\n  // y vuelve a setear state.cleansearch/cleans = false.\n  useEffect(() => {\n    if(!!cleans||!!sgenre){\n      setGname('');\n      // console.log(`buscaste ${gname}`);\n      dispatch(titleSearch(''));\n      dispatch(cleansearch(false));\n    }\n  },[cleans,sgenre,dispatch]);\n  \n  // console.log(inits,gname);\n\n  return (\n    <>\n      <input className=\"search_input\"\n        type=\"text\" \n        placeholder=\" Ingrese el nombre del juego...\" \n        value = {gname}\n        onChange = {handleChange}\n      />\n    </>\n  )\n};\n\n"]},"metadata":{},"sourceType":"module"}