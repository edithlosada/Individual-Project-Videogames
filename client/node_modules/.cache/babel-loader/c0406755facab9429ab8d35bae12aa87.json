{"ast":null,"code":"import _toConsumableArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/edith/Desktop/PI/FT10-PI-Videogames/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'./MultiSelectPlatform.css';import platfopt from'../Platforms/Platforms';import{saveNgPlatfSel,sendedForm}from'../../actions/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function MultiSelectPlatform(props){var dispatch=useDispatch();// Estado de plataformas seleccionadas\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),splatforms=_useState2[0],setSplatforms=_useState2[1];// selected platforms\n// Quita plataforma de la selección y guarda en store\nfunction removeItem(item){var newItems=splatforms.filter(function(e){return e!==item;});setSplatforms(newItems);dispatch(saveNgPlatfSel(splatforms));}// Cuando hace selección en desplegable lo seleciona/deselecciona y guarda en store\nfunction handleChange(e){var itemP=e.target.value;var hasItem=splatforms.includes(itemP);if(!hasItem){setSplatforms([].concat(_toConsumableArray(splatforms),[itemP]));dispatch(saveNgPlatfSel(splatforms));}else{removeItem(itemP);}}// Cuando hace click en el botón lo saca\nfunction handleClick(e){var itm=e.target.value;removeItem(itm);}//Cada vez que cambia una plataforma guarda el estado en el store\nuseEffect(function(){dispatch(saveNgPlatfSel(splatforms));},[splatforms,dispatch]);var sended=useSelector(function(state){return state.sended;});useEffect(function(){setSplatforms([]);dispatch(sendedForm(false));},[sended,dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"selplatfom\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"platforms\",placeholder:\"Plataformas...\",className:\"multselectpf\",value:'',onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,className:\"selectpfT\",children:\"Plataformas: \"}),platfopt.map(function(item,index){return/*#__PURE__*/_jsx(\"option\",{value:item.value,children:item.label},index);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"platfcont\",children:splatforms.map(function(item,index){return/*#__PURE__*/_jsx(\"button\",{className:\"selplatfbtn\",value:item,onClick:handleClick,children:item},index);})})]});}export default MultiSelectPlatform;","map":{"version":3,"sources":["/home/edith/Desktop/PI/FT10-PI-Videogames/client/src/components/MultiSelectPlatform/MultiSelectPlatform.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","platfopt","saveNgPlatfSel","sendedForm","MultiSelectPlatform","props","dispatch","splatforms","setSplatforms","removeItem","item","newItems","filter","e","handleChange","itemP","target","value","hasItem","includes","handleClick","itm","sended","state","map","index","label"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,2BAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,OAASC,cAAT,CAAyBC,UAAzB,KAA2C,uBAA3C,C,wFAEA,MAAO,SAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,CAEzC,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA;AAJyC,cAKPH,QAAQ,CAAC,EAAD,CALD,wCAKpCU,UALoC,eAKxBC,aALwB,eAKO;AAEhD;AACA,QAASC,CAAAA,UAAT,CAAoBC,IAApB,CAA0B,CACxB,GAAIC,CAAAA,QAAQ,CAAGJ,UAAU,CAACK,MAAX,CAAkB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,GAAKH,IAAV,EAAnB,CAAf,CACAF,aAAa,CAACG,QAAD,CAAb,CACAL,QAAQ,CAACJ,cAAc,CAACK,UAAD,CAAf,CAAR,CACD,CAED;AACA,QAASO,CAAAA,YAAT,CAAsBD,CAAtB,CAAyB,CACvB,GAAIE,CAAAA,KAAK,CAAGF,CAAC,CAACG,MAAF,CAASC,KAArB,CACA,GAAIC,CAAAA,OAAO,CAAGX,UAAU,CAACY,QAAX,CAAoBJ,KAApB,CAAd,CACA,GAAI,CAACG,OAAL,CAAc,CACZV,aAAa,8BAAKD,UAAL,GAAiBQ,KAAjB,GAAb,CACAT,QAAQ,CAACJ,cAAc,CAACK,UAAD,CAAf,CAAR,CACD,CAHD,IAGO,CACLE,UAAU,CAACM,KAAD,CAAV,CACD,CACF,CAED;AACA,QAASK,CAAAA,WAAT,CAAqBP,CAArB,CAAwB,CACtB,GAAIQ,CAAAA,GAAG,CAAGR,CAAC,CAACG,MAAF,CAASC,KAAnB,CACAR,UAAU,CAACY,GAAD,CAAV,CACD,CAED;AACAvB,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACJ,cAAc,CAACK,UAAD,CAAf,CAAR,CACD,CAFQ,CAEN,CAACA,UAAD,CAAYD,QAAZ,CAFM,CAAT,CAIA,GAAMgB,CAAAA,MAAM,CAAGvB,WAAW,CAAC,SAAAwB,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAV,EAAN,CAA1B,CACAxB,SAAS,CAAC,UAAM,CACdU,aAAa,CAAC,EAAD,CAAb,CACAF,QAAQ,CAACH,UAAU,CAAC,KAAD,CAAX,CAAR,CACD,CAHQ,CAGN,CAACmB,MAAD,CAAQhB,QAAR,CAHM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,gBACE,IAAI,CAAC,WADP,CAEE,WAAW,CAAC,gBAFd,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAE,EAJT,CAKE,QAAQ,CAAEQ,YALZ,wBAOE,eAAQ,YAAY,KAApB,CAAqB,SAAS,CAAC,WAA/B,2BAPF,CAQGb,QAAQ,CAACuB,GAAT,CAAa,SAACd,IAAD,CAAOe,KAAP,qBACZ,eAAoB,KAAK,CAAEf,IAAI,CAACO,KAAhC,UAAwCP,IAAI,CAACgB,KAA7C,EAAaD,KAAb,CADY,EAAb,CARH,GADF,cAaE,YAAK,SAAS,CAAC,WAAf,UACGlB,UAAU,CAACiB,GAAX,CAAe,SAACd,IAAD,CAAOe,KAAP,qBACd,eAAQ,SAAS,CAAC,aAAlB,CAAgC,KAAK,CAAEf,IAAvC,CACE,OAAO,CAAEU,WADX,UAEGV,IAFH,EAC6Be,KAD7B,CADc,EAAf,CADH,EAbF,GADF,CAwBD,CAED,cAAerB,CAAAA,mBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './MultiSelectPlatform.css';\nimport platfopt from '../Platforms/Platforms';\nimport { saveNgPlatfSel, sendedForm } from '../../actions/actions';\n\nexport function MultiSelectPlatform(props) {\n\n  const dispatch = useDispatch();\n\n  // Estado de plataformas seleccionadas\n  let [splatforms, setSplatforms] = useState([]); // selected platforms\n\n  // Quita plataforma de la selección y guarda en store\n  function removeItem(item) {\n    let newItems = splatforms.filter(e => e !== item);\n    setSplatforms(newItems);\n    dispatch(saveNgPlatfSel(splatforms));\n  }\n\n  // Cuando hace selección en desplegable lo seleciona/deselecciona y guarda en store\n  function handleChange(e) {\n    let itemP = e.target.value;\n    let hasItem = splatforms.includes(itemP);\n    if (!hasItem) {\n      setSplatforms([...splatforms, itemP]);\n      dispatch(saveNgPlatfSel(splatforms));\n    } else {\n      removeItem(itemP);\n    }\n  }\n\n  // Cuando hace click en el botón lo saca\n  function handleClick(e) {\n    let itm = e.target.value;\n    removeItem(itm);\n  }\n\n  //Cada vez que cambia una plataforma guarda el estado en el store\n  useEffect(() => {\n    dispatch(saveNgPlatfSel(splatforms));\n  }, [splatforms,dispatch]);\n\n  const sended = useSelector(state => state.sended);\n  useEffect(() => {\n    setSplatforms([]);\n    dispatch(sendedForm(false));\n  }, [sended,dispatch]);\n\n  return (\n    <div className=\"selplatfom\">\n      <select\n        name=\"platforms\"\n        placeholder=\"Plataformas...\"\n        className=\"multselectpf\"\n        value={''}\n        onChange={handleChange}\n      >\n        <option defaultValue className=\"selectpfT\">Plataformas: </option>\n        {platfopt.map((item, index) => (\n          <option key={index} value={item.value}>{item.label}</option>\n        ))}\n      </select>\n      <div className=\"platfcont\">\n        {splatforms.map((item, index) => (\n          <button className=\"selplatfbtn\" value={item}\n            onClick={handleClick} key={index}>\n            {item}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default MultiSelectPlatform;\n"]},"metadata":{},"sourceType":"module"}